<div class="card-wrapper-center">
  <div class="shop-wrapper" *ngIf="!isLoadingUser && !isLoadingCategories">
    <div class="buttons-wrapper">
    <button mat-flat-button [disabled]="!canAddProduct" (click)="addProduct()" class="group7-forms-button">
      Add new product
    </button>
    <button mat-flat-button (click) ="refreshShop()" class="group7-forms-button">
      Reload shop
    </button>

    <mat-form-field appearance="outline">
      <mat-select  placeholder="Choose category:" (selectionChange)="filterShop($event.value)" #selectFilter class="group7-select">
        <mat-option value="0">No Filter</mat-option>
        <mat-option *ngFor="let category of productCategories" [value]="category.id">{{category.name}}</mat-option>
      </mat-select>
    </mat-form-field>
    </div>



    <div  *ngFor="let productToDisplay of productList" class="group7-grid-tile shop-item">
      <app-product
        [productToDisplay]="productToDisplay"
        [loggedIn]="loggedIn"
        [currentUser]="currentUser"
        (delete)="confirmDelete($event)"
        (update)="updateProduct($event)"
        (buy)="buyProduct($event)"
        (showDetails)="showProductDetails($event)">
      <!--  [productCategories]="productCategories"-->
      </app-product>
    </div>


  </div>
</div>


